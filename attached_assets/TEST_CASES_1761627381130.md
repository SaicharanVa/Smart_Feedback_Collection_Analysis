# FeedbackHub - Test Cases

## 1. Authentication & Authorization Tests

### TC-1.1: User Registration
**Objective**: Verify new user can register successfully

**Steps**:
1. Navigate to Register page
2. Enter name: "Test User"
3. Enter email: "testuser@example.com"
4. Enter password: "password123"
5. Click Register button

**Expected Result**: 
- Success message displayed
- Redirected to login page
- User can login with credentials

**Priority**: High

---

### TC-1.2: User Login - Valid Credentials
**Objective**: Verify user can login with correct credentials

**Steps**:
1. Navigate to Login page
2. Enter email: "admin@example.com"
3. Enter password: "admin123"
4. Click Login button

**Expected Result**:
- Successfully logged in
- Redirected to admin dashboard
- Navigation shows "Logout" option

**Priority**: High

---

### TC-1.3: User Login - Invalid Credentials
**Objective**: Verify system rejects invalid credentials

**Steps**:
1. Navigate to Login page
2. Enter email: "wrong@example.com"
3. Enter password: "wrongpass"
4. Click Login button

**Expected Result**:
- Error message: "Invalid email or password"
- Remains on login page
- User not authenticated

**Priority**: High

---

### TC-1.4: Access Control - Admin Only
**Objective**: Verify regular users cannot access admin dashboard

**Steps**:
1. Login as regular user (not admin)
2. Manually navigate to /admin URL

**Expected Result**:
- "Access denied" message
- Redirected to home page
- Admin dashboard not accessible

**Priority**: Medium

---

## 2. Feedback Submission Tests

### TC-2.1: Submit Feedback Without Image
**Objective**: Verify basic feedback submission works

**Steps**:
1. Navigate to home page
2. Enter name: "John Doe"
3. Select type: "General Feedback"
4. Enter text: "The application is very user-friendly and easy to use"
5. Select rating: 5 stars
6. Click Submit

**Expected Result**:
- Success message displayed
- Sentiment analysis shown (should be "Positive")
- Form clears after submission
- Feedback saved to database

**Priority**: High

---

### TC-2.2: Submit Feedback With Image
**Objective**: Verify image upload functionality

**Steps**:
1. Navigate to home page
2. Fill in feedback form
3. Click "Attach Image" and select a valid PNG file (< 5MB)
4. Verify image preview appears
5. Click Submit

**Expected Result**:
- Image preview shown before submit
- Success message displayed
- Image uploaded successfully
- Feedback includes image reference

**Priority**: High

---

### TC-2.3: Image Upload - Invalid File Type
**Objective**: Verify system rejects invalid file types

**Steps**:
1. Navigate to home page
2. Fill in feedback form
3. Try to upload a .pdf or .txt file

**Expected Result**:
- Error message: "Only PNG, JPG, JPEG, and GIF files are allowed"
- Upload rejected
- Form not submitted

**Priority**: Medium

---

### TC-2.4: Image Upload - File Too Large
**Objective**: Verify system rejects oversized files

**Steps**:
1. Navigate to home page
2. Fill in feedback form
3. Try to upload image > 5MB

**Expected Result**:
- Error message: "File size must be less than 5MB"
- Upload rejected
- Preview not shown

**Priority**: Medium

---

### TC-2.5: Anonymous Feedback Submission
**Objective**: Verify guests can submit feedback

**Steps**:
1. Ensure user is logged out
2. Navigate to home page
3. Submit feedback with name "Anonymous"

**Expected Result**:
- Feedback submitted successfully
- No user_id associated
- Sentiment analysis still works

**Priority**: High

---

### TC-2.6: Sentiment Analysis - Positive
**Objective**: Verify positive sentiment detection

**Steps**:
1. Submit feedback with text: "Excellent service! Very happy with the results"

**Expected Result**:
- Sentiment classified as "Positive"
- Compound score > 0.05
- Green sentiment badge displayed

**Priority**: High

---

### TC-2.7: Sentiment Analysis - Negative
**Objective**: Verify negative sentiment detection

**Steps**:
1. Submit feedback with text: "Terrible experience. Very disappointed and frustrated"

**Expected Result**:
- Sentiment classified as "Negative"
- Compound score < -0.05
- Red sentiment badge displayed

**Priority**: High

---

### TC-2.8: Sentiment Analysis - Neutral
**Objective**: Verify neutral sentiment detection

**Steps**:
1. Submit feedback with text: "The product works as described"

**Expected Result**:
- Sentiment classified as "Neutral"
- Compound score between -0.05 and 0.05
- Gray sentiment badge displayed

**Priority**: Medium

---

## 3. User Dashboard Tests

### TC-3.1: View Personal Feedback History
**Objective**: Verify user can see their own feedback

**Steps**:
1. Login as registered user
2. Navigate to Dashboard
3. Verify feedback list displays

**Expected Result**:
- Only user's own feedback shown
- Feedback cards display correctly
- Images shown as thumbnails
- Most recent feedback first

**Priority**: High

---

### TC-3.2: View Full-Size Image
**Objective**: Verify image modal functionality

**Steps**:
1. Navigate to user dashboard with feedback containing images
2. Click on an image thumbnail

**Expected Result**:
- Modal opens with full-size image
- Background overlay displayed
- Can close by clicking X or outside modal

**Priority**: Medium

---

### TC-3.3: Empty Dashboard State
**Objective**: Verify empty state message

**Steps**:
1. Login with new user who has no feedback
2. Navigate to Dashboard

**Expected Result**:
- Message: "You haven't submitted any feedback yet"
- Button to submit first feedback
- No error displayed

**Priority**: Low

---

## 4. Admin Dashboard Tests

### TC-4.1: View Admin Statistics
**Objective**: Verify admin statistics display correctly

**Steps**:
1. Login as admin (admin@example.com / admin123)
2. Navigate to admin dashboard
3. Check statistics cards

**Expected Result**:
- Total feedback count displayed
- Average rating shown correctly
- Sentiment counts accurate
- All metrics update in real-time

**Priority**: High

---

### TC-4.2: Average Rating Calculation
**Objective**: Verify average rating is calculated correctly

**Setup**: Submit 3 feedbacks with ratings 3, 4, 5

**Steps**:
1. Login as admin
2. View admin dashboard
3. Check average rating display

**Expected Result**:
- Average rating shows 4.0/5
- Calculation: (3+4+5)/3 = 4.0
- Display format: "4.0/5"

**Priority**: High

---

### TC-4.3: Average Rating - No Ratings
**Objective**: Verify handling when no ratings exist

**Setup**: Database has feedback with no ratings

**Steps**:
1. Login as admin
2. View admin dashboard
3. Check average rating

**Expected Result**:
- Average rating shows "N/A"
- No error or division by zero
- Other statistics still display

**Priority**: Medium

---

### TC-4.4: Sentiment Chart Display
**Objective**: Verify sentiment pie chart renders

**Steps**:
1. Login as admin
2. View admin dashboard
3. Check sentiment chart

**Expected Result**:
- Pie chart displays with 3 segments
- Colors: Green (Positive), Red (Negative), Gray (Neutral)
- Percentages match actual data
- Legend shows labels

**Priority**: Medium

---

### TC-4.5: Feedback Type Chart Display
**Objective**: Verify feedback types bar chart renders

**Steps**:
1. Login as admin
2. View admin dashboard
3. Check feedback types chart

**Expected Result**:
- Bar chart shows all feedback types
- Bars sized according to count
- Y-axis starts at 0
- Chart is responsive

**Priority**: Medium

---

### TC-4.6: Filter by Sentiment
**Objective**: Verify sentiment filter works

**Steps**:
1. Login as admin
2. Navigate to feedback table
3. Select "Positive" from sentiment filter

**Expected Result**:
- Only positive feedback shown
- Other feedback hidden
- Count updates accordingly
- Can clear filter

**Priority**: High

---

### TC-4.7: Filter by Feedback Type
**Objective**: Verify type filter works

**Steps**:
1. Login as admin
2. Navigate to feedback table
3. Select "Bug Report" from type filter

**Expected Result**:
- Only bug reports shown
- Other types hidden
- Filters can be combined
- Clear filter option works

**Priority**: High

---

### TC-4.8: View Image in Admin Table
**Objective**: Verify admin can view feedback images

**Steps**:
1. Login as admin
2. Locate feedback with image in table
3. Click thumbnail in Image column

**Expected Result**:
- Modal opens with full-size image
- Image loads correctly
- Can close modal
- No errors

**Priority**: Medium

---

## 5. Export & Reporting Tests

### TC-5.1: CSV Export
**Objective**: Verify CSV export functionality

**Steps**:
1. Login as admin
2. Click "Export CSV" button
3. Check downloaded file

**Expected Result**:
- CSV file downloads
- Contains all feedback data
- Headers: ID, Name, Type, Text, Rating, Sentiment, Score, Image, Timestamp
- Image column shows "Yes" or "No"
- Data matches database

**Priority**: High

---

### TC-5.2: PDF Export
**Objective**: Verify PDF export functionality

**Steps**:
1. Login as admin
2. Click "Export PDF" button
3. Open downloaded PDF

**Expected Result**:
- PDF file downloads
- Contains FeedbackHub title
- Summary section shows:
  - Total feedback
  - Average rating
  - Sentiment percentages
  - Image count
- Detailed table with feedback data
- Professional formatting

**Priority**: High

---

### TC-5.3: PDF Export - Average Rating Display
**Objective**: Verify average rating in PDF

**Steps**:
1. Ensure database has rated feedback
2. Export PDF
3. Check summary section

**Expected Result**:
- Average rating displayed as "X.XX/5"
- Matches dashboard calculation
- Formatted to 2 decimal places

**Priority**: Medium

---

## 6. Security Tests

### TC-6.1: SQL Injection Prevention
**Objective**: Verify system protects against SQL injection

**Steps**:
1. Try to submit feedback with text: "'; DROP TABLE feedback; --"
2. Check database

**Expected Result**:
- Input treated as text only
- No SQL execution
- Database intact
- Feedback stored safely

**Priority**: High

---

### TC-6.2: File Upload Security
**Objective**: Verify malicious file upload prevention

**Steps**:
1. Rename malicious file to .png
2. Try to upload
3. Check server behavior

**Expected Result**:
- PIL verification detects invalid image
- Upload rejected
- Error message shown
- No file saved to server

**Priority**: High

---

### TC-6.3: Path Traversal Prevention
**Objective**: Verify filename security

**Steps**:
1. Intercept upload request
2. Try to set filename to "../../../etc/passwd"
3. Check file storage

**Expected Result**:
- Secure_filename sanitizes path
- File saved with safe name
- No directory traversal
- Timestamp prefix added

**Priority**: High

---

## 7. Responsive Design Tests

### TC-7.1: Mobile View - Feedback Form
**Objective**: Verify form works on mobile

**Steps**:
1. Resize browser to mobile width (375px)
2. Navigate to feedback form
3. Test all inputs

**Expected Result**:
- Form fields stack vertically
- All inputs accessible
- Touch-friendly buttons
- Image upload works
- No horizontal scroll

**Priority**: Medium

---

### TC-7.2: Tablet View - Dashboard
**Objective**: Verify dashboard on tablet

**Steps**:
1. Resize browser to tablet width (768px)
2. Navigate to admin dashboard
3. Check layout

**Expected Result**:
- Stats cards adjust grid
- Charts remain visible
- Table scrolls horizontally if needed
- Navigation adapts

**Priority**: Low

---

## 8. Performance Tests

### TC-8.1: Large Image Upload
**Objective**: Verify handling of maximum file size

**Steps**:
1. Upload image exactly 5MB
2. Monitor upload time
3. Check storage

**Expected Result**:
- Upload completes successfully
- Takes < 10 seconds
- Image stored correctly
- No timeout errors

**Priority**: Medium

---

### TC-8.2: Multiple Simultaneous Submissions
**Objective**: Verify concurrent submission handling

**Steps**:
1. Open 5 browser tabs
2. Submit feedback simultaneously
3. Check database

**Expected Result**:
- All submissions saved
- No data loss
- Unique IDs assigned
- No race conditions

**Priority**: Low

---

## Test Execution Summary

### Priority Levels:
- **High**: Core functionality, must work
- **Medium**: Important features, should work
- **Low**: Nice to have, good to verify

### Test Coverage:
- Authentication: 4 tests
- Feedback Submission: 8 tests
- User Dashboard: 3 tests
- Admin Dashboard: 8 tests
- Export & Reporting: 3 tests
- Security: 3 tests
- Responsive Design: 2 tests
- Performance: 2 tests

**Total Test Cases**: 33
